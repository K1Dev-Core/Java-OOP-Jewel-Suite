# GridUI.java - ส่วนแสดงผลตารางแก๊ส

## ภาพรวม
GridUI เป็นคลาสที่สืบทอดจาก JPanel ทำหน้าที่แสดงข้อมูลการกระจายตัวของแก๊สในรูปแบบตารางสี รองรับการโต้ตอบของผู้ใช้และการลากวางไฟล์

## ตัวแปรสำคัญ
- `DataFile data` - อ็อบเจ็กต์ข้อมูลที่ใช้ในการแสดงผล
- `boolean hasData` - สถานะว่ามีข้อมูลหรือไม่
- `int hoverRow, hoverCol` - ตำแหน่งเซลล์ที่เมาส์ชี้อยู่
- `float hoverAlpha` - ค่าความโปร่งใสสำหรับเอฟเฟกต์ hover
- `JLabel tooltipLabel` - แสดง tooltip ข้อมูลเซลล์
- `Timer animationTimer` - จัดการแอนิเมชัน fade in/out

## เมธอดสำคัญ

### paintComponent(Graphics g)
เมธอดหลักสำหรับการวาดภาพ:
- เรียก `drawGrid()` เมื่อมีข้อมูล
- เรียก `drawDropZone()` เมื่อไม่มีข้อมูล

### drawGrid(Graphics2D g2)
วาดตารางแสดงข้อมูลแก๊ส:
- วาดพื้นหลังตาราง
- วาดเซลล์แต่ละช่องตามสีที่กำหนด
- วาดเอฟเฟกต์ hover เมื่อเมาส์ชี้
- วาดเส้นขอบเซลล์

### drawDropZone(Graphics2D g2)
วาดพื้นที่สำหรับลากวางไฟล์:
- วาดกรอบเส้นประ
- แสดงไอคอนโฟลเดอร์
- แสดงข้อความแนะนำ

### getCellColor(int r, int c)
กำหนดสีของเซลล์ตามระดับแก๊ส:
- ระดับ 0: สีแดง (ไม่มีแก๊ส)
- ระดับ 1: สีเหลือง (แก๊สน้อย)
- ระดับ 2: สีเขียว (แก๊สมาก)

### updateHoverCell(int mx, int my)
อัปเดตเซลล์ที่เมาส์ชี้อยู่:
- คำนวณตำแหน่งเซลล์จากพิกัดเมาส์
- เริ่มแอนิเมชัน fade
- แสดง tooltip ข้อมูลเซลล์

### showCellInfo(int mx, int my)
แสดงข้อมูลรายละเอียดของเซลล์เมื่อคลิก:
- คำนวณตำแหน่งเซลล์
- แสดงข้อมูลปริมาตร เปอร์เซ็นต์แก๊ส และสถานะ
- ใช้ Dialog แสดงข้อมูล

### showTooltipInfo(int mx, int my, int row, int col)
แสดง tooltip ข้อมูลเซลล์:
- สร้างข้อความ HTML แสดงข้อมูล
- คำนวณตำแหน่งที่เหมาะสม
- ปรับตำแหน่งไม่ให้เกินขอบเขต

### refresh()
รีเฟรชการแสดงผล:
- อัปเดตสถานะข้อมูล
- ซ่อน tooltip
- รีเซ็ตค่า hover
- อัปเดตขนาดและวาดใหม่

## การจัดการ Drag and Drop

### FileDropper (Inner Class)
คลาสภายในสำหรับจัดการการลากวางไฟล์:
- `dragEnter()`: ตรวจสอบประเภทไฟล์
- `drop()`: ประมวลผลไฟล์ที่ลากมา
- รองรับเฉพาะไฟล์ .txt

### FileCallback (Interface)
Interface สำหรับ callback เมื่อมีการลากวางไฟล์:
- `onFileDropped(File file)`: เมธอดที่จะถูกเรียกเมื่อลากไฟล์มา

## การจัดการเหตุการณ์
- Mouse Click: แสดงข้อมูลรายละเอียดเซลล์
- Mouse Move: อัปเดต hover effect และ tooltip
- Mouse Exit: ซ่อน hover effect และ tooltip
- File Drop: โหลดข้อมูลจากไฟล์

## เอฟเฟกต์พิเศษ
- Hover Animation: เอฟเฟกต์ fade in/out เมื่อเมาส์ชี้เซลล์
- Glow Effect: เส้นขอบเรืองแสงเมื่อ hover
- Tooltip: แสดงข้อมูลเซลล์แบบ real-time
- Drop Zone Animation: เส้นประสำหรับพื้นที่ลากวาง