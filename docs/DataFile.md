# DataFile.java - จัดการข้อมูลและการคำนวณ

## ภาพรวม
DataFile เป็นคลาสหลักสำหรับจัดการข้อมูลความลึกและการคำนวณปริมาตรแก๊ส ทำหน้าที่อ่านไฟล์ข้อมูล เก็บค่าต่างๆ และคำนวณผลลัพธ์

## ตัวแปรสำคัญ
- `double[][] numbers` - อาร์เรย์ 2 มิติเก็บข้อมูลความลึก
- `double water` - ระดับน้ำที่ใช้ในการคำนวณ
- `int rows, cols` - จำนวนแถวและคอลัมน์ของข้อมูล

## เมธอดสำคัญ

### loadFromFile(String path)
โหลดข้อมูลจากไฟล์:
- อ่านตัวเลขทั้งหมดจากไฟล์
- จัดเรียงข้อมูลเป็นอาร์เรย์ 2 มิติ
- กำหนดขนาดตาราง (22x10)
- คืนค่า true หากสำเร็จ, false หากล้มเหลว

### getBottom(int r, int c)
ได้ค่าความลึกพื้นล่างของเซลล์:
- คืนค่าจากอาร์เรย์ numbers
- ตรวจสอบขอบเขตก่อนเข้าถึงข้อมูล

### getTop(int r, int c)
คำนวณความลึกพื้นบนของเซลล์:
- พื้นบน = พื้นล่าง - TOP_BASE (200)
- ใช้สำหรับคำนวณปริมาตรแก๊ส

### getVolume(int r, int c)
คำนวณปริมาตรแก๊สในเซลล์:
- ตรวจสอบว่าระดับน้ำสูงกว่าพื้นบนหรือไม่
- คำนวณความลึกของแก๊ส
- ปริมาตร = พื้นที่ × ความลึก
- พื้นที่เซลล์ = CELL_SIZE × CELL_SIZE (150×150)

### getPercent(int r, int c)
คำนวณเปอร์เซ็นต์แก๊สในเซลล์:
- คำนวณความสูงรวมของเซลล์
- คำนวณส่วนที่มีแก๊ส
- คืนค่าเป็นสัดส่วน (0.0-1.0)

### getLevel(int r, int c)
กำหนดระดับแก๊สของเซลล์:
- ระดับ 0: ไม่มีแก๊ส (0%)
- ระดับ 1: แก๊สน้อย (<50%)
- ระดับ 2: แก๊สมาก (≥50%)

### getTotalVolume()
คำนวณปริมาตรแก๊สรวมทั้งหมด:
- วนลูปทุกเซลล์
- รวมปริมาตรแก๊สทั้งหมด
- คืนค่าเป็นลูกบาศก์เมตร

### clearData()
ล้างข้อมูลทั้งหมด:
- รีเซ็ตอาร์เรย์ข้อมูล
- รีเซ็ตขนาดตาราง
- รีเซ็ตระดับน้ำเป็นค่าเริ่มต้น

## การคำนวณแก๊ส

### หลักการคำนวณ
1. แต่ละเซลล์มีพื้นบนและพื้นล่าง
2. พื้นบน = พื้นล่าง - 200 เมตร
3. แก๊สจะอยู่ในช่วงระหว่างพื้นบนถึงระดับน้ำ
4. ปริมาตรแก๊ส = พื้นที่เซลล์ × ความลึกแก๊ส

### ตัวอย่างการคำนวณ
```
พื้นล่าง = 2800 เมตร
พื้นบน = 2800 - 200 = 2600 เมตร
ระดับน้ำ = 2500 เมตร

เนื่องจากระดับน้ำ < พื้นบน
ดังนั้น ไม่มีแก๊ส (ปริมาตร = 0)
```

## การจัดการข้อผิดพลาด
- ตรวจสอบขอบเขตอาร์เรย์ก่อนเข้าถึงข้อมูล
- จัดการ Exception ในการอ่านไฟล์
- คืนค่าเริ่มต้นเมื่อเกิดข้อผิดพลาด

## ความสัมพันธ์กับคลาสอื่น
- ใช้ค่าคงที่จาก Settings (GRID_W, GRID_H, CELL_SIZE, etc.)
- ถูกใช้โดย MainApp สำหรับการคำนวณและแสดงผล
- ถูกใช้โดย GridUI สำหรับการแสดงผลตาราง